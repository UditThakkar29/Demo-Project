<%#= render "form", ticket: @ticket %>


<div class="d-flex">
  <%= render "navbar" %>

  <div class="ms-5 mt-2 mb-2" style="width: 80%;">
    <% if @ticket.errors.any? %>
      <% @ticket.errors.full_messages.each do |message|%>
        <p><%= message %> </p>
      <%end%>
    <%end%>
    <%= form_with model: @ticket, url:project_board_sprint_tickets_path do |form| %>
    <%= form.label :name%><br>
    <%= form.text_field :name, class:""%><br>
    <%= form.label :summary %><br>
    <%= form.text_field :summary, class:""%><br>
    <%= form.label :priority %><br>
    <%= form.select :priority, ['High', 'Medium', 'Low'], selected: 'Low',class:" mt-3"%><br>

    <% if @sprint.backlog_sprint == true %>
      <%= form.submit "Create Ticket",class: "btn btn-primary btn-lg mt-3" %>
    <% else %>
      <%= form.label :status %><br>
      <%= form.select :status, ['to_do', 'progress', 'QA','done'], selected: 'to_do',class:" mt-3"%><br>
      <%= form.label :assigned_user_id %><br>
      <%= form.select(:assigned_user_id, options_for_select(@project.users.all.collect { |u| [ u.email, u.id] unless u.has_role? :manager }.compact),{:class => "form-select"}) %><br>
      <%= form.submit "Create Ticket",class: "btn btn-primary btn-lg mt-3" %>
    <% end %>
  <% end %>
  </div>
</div>
